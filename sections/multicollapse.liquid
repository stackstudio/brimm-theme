{% schema %}
{
  "name": "Multi Collapsible Columns",
  "tag": "section",
  "max_blocks": 6,
  "settings": [
    {
      "type": "text",
      "id": "section_heading",
      "label": "Section Heading",
      "default": "Frequently Asked Questions"
    }
  ],
  "blocks": [
    {
      "type": "collapsible-column",
      "name": "Collapsible Column",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Column Heading",
          "default": "FAQ Column"
        },
        {
          "type": "range",
          "id": "item_count",
          "label": "Number of items",
          "min": 1,
          "max": 10,
          "step": 1,
          "default": 3
        },
        {% for i in (1..10) %}
        {
          "type": "text",
          "id": "item_{{ i }}_heading",
          "label": "Item {{ i }} Heading",
          "default": "Item {{ i }} Heading"
        },
        {
          "type": "textarea",
          "id": "item_{{ i }}_content",
          "label": "Item {{ i }} Content",
          "default": "Item {{ i }} Content"
        }{% if i < 10 %},{% endif %}
        {% endfor %}
      ]
    }
  ],
  "presets": [
    {
      "name": "Multi Collapsible Columns",
      "category": "FAQs",
      "blocks": [
        {
          "type": "collapsible-column"
        },
        {
          "type": "collapsible-column"
        }
      ]
    }
  ]
}
{% endschema %}

{% stylesheet %}
.brimm-blocks--multicollapse-wrapper {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
}

.brimm-blocks--multicollapse-column-wrapper {
  background-color: var(--color-background, #fff);
  border: 1px solid var(--color-border, #ddd);
  border-radius: 6px;
  padding: 1rem;
}

.brimm-blocks--multicollapse-column__heading {
  margin-bottom: 1rem;
  font-weight: bold;
  font-size: 1.25rem;
}

.brimm-blocks--multicollapse-column__item {
  margin-bottom: 1rem;
}

.brimm-blocks--multicollapse-column__item-heading {
  cursor: pointer;
  font-weight: 600;
  padding: 0.5rem 0;
}

.brimm-blocks--multicollapse-column__item-content {
  padding-left: 1rem;
  margin-top: 0.5rem;
}
{% endstylesheet %}

<div class="brimm-blocks--multicollapse-section">
  {% if section.settings.section_heading != blank %}
    <h2 class="brimm-blocks--multicollapse-section__heading">
      {{ section.settings.section_heading }}
    </h2>
  {% endif %}

  <div class="brimm-blocks--multicollapse-wrapper">
    {% for block in section.blocks %}
      <div class="brimm-blocks--multicollapse-column-wrapper">
        {{ block | render }}
      </div>
    {% endfor %}
  </div>
</div>
